
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advanced Image Editor</title>
  <style>
   /* --- Global Styles --- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #121212; /* Pro dark background */
  color: #e0e0e0;
  padding: 20px;
  line-height: 1.6;
}

/* --- Layout --- */
.main-container {
  display: flex;
  flex-wrap: wrap;
  max-width: 1400px;
  margin: 0 auto;
  gap: 25px;
}

.left-panel, .right-panel {
  background: #1e1e1e;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  flex: 1 1 450px;
}

/* --- Image Viewport --- */
.image-area {
  width: 100%;
  height: 500px; /* Adjusted height for better balance */
  border: 2px dashed #444;
  background: #252525;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  margin-bottom: 20px;
}

.image-area:hover {
  border-color: #3498db;
  background: #2a2a2a;
}

.image-area img {
  max-width: 95%;
  max-height: 95%;
  border-radius: 4px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  transition: transform 0.2s ease; /* For Zoom scale */
}

#drop-area.dragover {
  background-color: #1a3a4a;
  border-color: #3498db;
}

/* --- Controls & Inputs --- */
h3 {
  color: #3498db;
  margin-bottom: 15px;
  text-transform: uppercase;
  font-size: 0.9rem;
  letter-spacing: 1px;
  border-bottom: 1px solid #333;
  padding-bottom: 5px;
}

.filters label {
  display: inline-block;
  width: 100px;
  font-size: 0.85rem;
  color: #bbb;
}

.filters input[type="range"] {
  width: calc(100% - 110px);
  height: 5px;
  border-radius: 5px;
  background: #333;
  outline: none;
  cursor: pointer;
  vertical-align: middle;
  margin-bottom: 20px;
}

/* --- Resize Section --- */
.resize {
  margin: 20px 0;
  padding: 15px;
  background: #252525;
  border-radius: 8px;
}

.resize p {
  font-size: 0.8rem;
  margin-bottom: 10px;
  color: #888;
}

.resize input, .resize select {
  padding: 8px;
  background: #333;
  border: 1px solid #444;
  color: white;
  border-radius: 4px;
  margin-right: 5px;
  margin-bottom: 10px;
}

.resize input[type="number"] {
  width: 100px;
}

/* --- Buttons --- */
button {
  padding: 10px 22px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s;
}

#upload-btn {
  background: #3498db;
  color: white;
  margin-bottom: 20px;
}

#upload-btn:hover { background: #2980b9; }

.download-btn {
  background: #27ae60;
  color: white;
  width: 100%;
  margin-top: 10px;
}

.download-btn:hover { background: #219150; }

.resize button {
  background: #8e44ad;
  color: white;
}

/* --- Code Preview Area --- */
.generated-code textarea {
  width: 100%;
  height: 80px;
  background: #000;
  color: #2ecc71; /* Matrix-style green text */
  border: 1px solid #333;
  border-radius: 5px;
  padding: 10px;
  font-family: 'Courier New', Courier, monospace;
  font-size: 0.8rem;
  resize: none;
  margin-bottom: 15px;
}

/* --- Responsive Adjustments --- */
@media (max-width: 900px) {
  .main-container {
    flex-direction: column;
  }
  
  .image-area {
    height: 350px;
  }
}
  </style>
</head>
<body>

<div class="main-container">
  <!-- Left Panel -->
  <div class="left-panel">
    <div class="image-area" id="drop-area">
      <p>Drag & Drop Image Here</p>
      <img id="image">
    </div>

    <div class="buttons">
      <input type="file" id="upload" accept="image/*">
      <button id="upload-btn">Upload</button>
    </div>

    <div class="download">
      <p>Your Image is ready!</p>
      <button onclick="downloadImage()" class="download-btn">
        Download Now
      </button>
    </div>
  </div>

  <!-- Right Panel -->
  <div class="right-panel">
    <div class="filters">
      <h3>Filter</h3><br>
       <label>Brightness</label><input type="range" id="brightness" min="0" max="200" value="100"><br>
      <label>Contrast</label><input type="range" id="contrast" min="0" max="200" value="100"><br>
      <label>Saturate</label><input type="range" id="saturate" min="0" max="200" value="100"><br>
      <label>Grayscale</label><input type="range" id="grayscale" min="0" max="100" value="0"><br>
      <label>Invert</label><input type="range" id="invert" min="0" max="100" value="0"><br>
      <label>Sepia</label><input type="range" id="sepia" min="0" max="100" value="0"><br>
      <label>Opacity</label><input type="range" id="opacity" min="0" max="100" value="100"><br>
      <label>Hue-rotate</label><input type="range" id="hue-rotate" min="0" max="360" value="0"><br>
      <label>Zoom(scale)</label><input type="range" id="zoom" min="0.5" max="2" step="0.1" value="1"><br>
      <label>Blur</label><input type="range" id="blur" min="0" max="10" value="0">
    </div>

    <div class="resize">
      <h3>Resize</h3>
      <p>Image size:<br>Height=<span id="current-height">0</span>px<br>Width=<span id="current-width">0</span>px</p>
      <input type="number" id="height" placeholder="Enter height">
      <input type="number" id="width" placeholder="Enter width">
      <select id="units">
        <option value="px">px</option>
        <option value="%">%</option>
      </select>
      <button onclick="resizeImage()">Resize</button>
    </div>

    <div class="generated-code">
      <h3>HTML</h3>
      <textarea id="html-code" readonly></textarea>

      <h3>CSS</h3>
      <textarea id="css-code" readonly></textarea>
    </div>
  </div>
</div>

<script>
  const upload = document.getElementById('upload');
  const uploadBtn = document.getElementById('upload-btn');
  const dropArea = document.getElementById('drop-area');
  const image = document.getElementById('image');

  uploadBtn.addEventListener('click', () => upload.click());
  upload.addEventListener('change', loadImage);

  dropArea.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropArea.classList.add('dragover');
  });

  dropArea.addEventListener('dragleave', () => {
    dropArea.classList.remove('dragover');
  });

  dropArea.addEventListener('drop', (e) => {
    e.preventDefault();
    dropArea.classList.remove('dragover');
    const file = e.dataTransfer.files[0];
    loadDroppedImage(file);
  });

  function loadImage() {
    const file = upload.files[0];
    const reader = new FileReader();
    reader.onload = () => {
      image.onload = () => updateSize();
      image.src = reader.result;
      image.style.display = 'block';
      dropArea.querySelector('p').style.display = 'none';
    }
    reader.readAsDataURL(file);
  }

  function loadDroppedImage(file) {
    const reader = new FileReader();
    reader.onload = () => {
      image.onload = () => updateSize();
      image.src = reader.result;
      image.style.display = 'block';
      dropArea.querySelector('p').style.display = 'none';
    }
    reader.readAsDataURL(file);
  }

  const filters = [
    'brightness', 'contrast', 'saturate', 'grayscale', 'invert',
    'sepia', 'opacity', 'hue-rotate', 'zoom', 'blur'
  ];

  filters.forEach(filter => {
    document.getElementById(filter).addEventListener('input', applyFilters);
  });

  function applyFilters() {
    const defaults = {
      brightness: 100,
      contrast: 100,
      saturate: 100,
      grayscale: 0,
      invert: 0,
      sepia: 0,
      opacity: 100,
      hueRotate: 0,
      blur: 0,
      zoom: 1
    };

    const brightness = document.getElementById('brightness').value;
    const contrast = document.getElementById('contrast').value;
    const saturate = document.getElementById('saturate').value;
    const grayscale = document.getElementById('grayscale').value;
    const invert = document.getElementById('invert').value;
    const sepia = document.getElementById('sepia').value;
    const opacity = document.getElementById('opacity').value;
    const hueRotate = document.getElementById('hue-rotate').value;
    const zoom = document.getElementById('zoom').value;
    const blur = document.getElementById('blur').value;

    const filterParts = [];

    if (brightness != defaults.brightness) filterParts.push(`brightness(${brightness}%)`);
    if (contrast != defaults.contrast) filterParts.push(`contrast(${contrast}%)`);
    if (saturate != defaults.saturate) filterParts.push(`saturate(${saturate}%)`);
    if (grayscale != defaults.grayscale) filterParts.push(`grayscale(${grayscale}%)`);
    if (invert != defaults.invert) filterParts.push(`invert(${invert}%)`);
    if (sepia != defaults.sepia) filterParts.push(`sepia(${sepia}%)`);
    if (opacity != defaults.opacity) filterParts.push(`opacity(${opacity}%)`);
    if (hueRotate != defaults.hueRotate) filterParts.push(`hue-rotate(${hueRotate}deg)`);
    if (blur != defaults.blur) filterParts.push(`blur(${blur}px)`);

    const filterValue = filterParts.join(' ') || 'none';
    image.style.filter = filterValue;
    image.style.transform = `scale(${zoom})`;

    let css = `#img {\n`;
    if (filterValue !== 'none') css += `  filter: ${filterValue};\n`;
    if (zoom != defaults.zoom) css += `  transform: scale(${zoom});\n`;
    css += `}`;

    document.getElementById('css-code').value = css;
  }

  function resizeImage() {
    const height = document.getElementById('height').value;
    const width = document.getElementById('width').value;
    const units = document.getElementById('units').value;

    image.style.height = height + units;
    image.style.width = width + units;

    updateSize();
  }

  function updateSize() {
    document.getElementById('current-height').innerText = image.offsetHeight;
    document.getElementById('current-width').innerText = image.offsetWidth;

    const shortSrc = 'edited-image.png';
    document.getElementById('html-code').value = `
<img src="${shortSrc}" height="${image.offsetHeight}" width="${image.offsetWidth}" id="img">
    `.trim();
  }

  function downloadImage() {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');

    canvas.width = image.width;
    canvas.height = image.height;

    ctx.filter = getComputedStyle(image).filter;
    ctx.drawImage(image, 0, 0, canvas.width, canvas.height);

    const link = document.createElement('a');
    link.download = 'edited-image.png';
    link.href = canvas.toDataURL('image/png');
    link.click();
  }
</script>

</body>
</html>

